
<!--/**-->
<!-- * Created by PhpStorm.-->
<!-- * User: DanielZhang-->
<!-- * Date: 2017/8/30-->
<!-- * Time: 上午11:57-->
<!-- */-->
<!DOCTYPE html>
<html>
<head>
    <title>YM,api的界面封装</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="//cdn.bootcss.com/jquery/2.1.1/jquery.min.js"></script>
    <script src="//cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link href="ym.css" rel="stylesheet" type="text/css"/>
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <meta name="股票信息Ajax接口" content="yes"/>
    <meta name="full-screen" content="yes"/>
    <meta name="screen-orientation" content="portrait"/>
    <meta name="x5-fullscreen" content="true"/>
    <meta name="360-fullscreen" content="true"/>
    <script src="ym.js"></script>
    <style>
/* Custom Styles */
ul.nav-tabs{
    width: 140px;
            margin-top: 20px;
            border-radius: 4px;
            border: 1px solid #ddd;
            box-shadow: 0 1px 4px rgba(0, 0, 0, 0.067);
        }
        ul.nav-tabs li{
    margin: 0;
    border-top: 1px solid #ddd;
        }
        ul.nav-tabs li:first-child{
    border-top: none;
        }
        ul.nav-tabs li a{
    margin: 0;
    padding: 8px 16px;
            border-radius: 0;
        }
        ul.nav-tabs li.active a, ul.nav-tabs li.active a:hover{
    color: #fff;
    background: #0088cc;
    border: 1px solid #0088cc;
        }
        ul.nav-tabs li:first-child a{
    border-radius: 4px 4px 0 0;
        }
        ul.nav-tabs li:last-child a{
    border-radius: 0 0 4px 4px;
        }
        ul.nav-tabs.affix{
    top: 30px; /* Set the top position of pinned element */
        }
    </style>
</head>
<body>
<div class="container">
    <div class="jumbotron">
        <h1>ym库的使用，canvas和table</h1>
    </div>
    <div class="col-xs-2" id="myScrollspy">
        <ul class="nav nav-tabs nav-stacked" data-spy="affix" data-offset-top="125">
            <li><a href="#section-1">概述</a></li>
            <li><a href="#section-2">波形图-月度</a></li>
            <li><a href="#section-3">波形图-年度</a></li>
            <li><a href="#section-4">月度表格</a></li>
        </ul>
    </div>
    <div class="col-xs-10" id="main">
        <div class="panel panel-default">
            <div class="panel-heading">
                <div class="btn-group">
                    <h4>Github</h4>
                </div>
            </div>
            <div class="panel-body">
                <a href="https://github.com/danielvs123/ym">点击进入项目页</a>
            </div>
        </div>
        <div id="section-1" class="panel panel-default">
            <div class="panel-heading">
                <div class="btn-group">
                    <h4>概述</h4>
                </div>
            </div>
            <div class="panel-body">
                这是对<a href="https://www.zsy-xsy.com/Share/web/index.php?r=share/intro">api</a>进行的封装
                <br>
                <br>
                    全部基于canvas实现，没有使用WebGL。
                    <br>
                    <br>
                    需要引用ym.js文件，无需额外引入第三方库
                <br>
                <br>
                引入js文件
                        <pre>
&lt;script src="//zsy-xsy.com/Share/web/ym.js"&gt;&lt;/script&gt;</pre>
                引入css文件
                        <pre>
&lt;link rel="stylesheet" href="//zsy-xsy.com/Share/web/ym.css"&gt;</pre>
                    <br>
                    <br>
                    使用命名空间 ym 。每次初始化需要调用init函数，把id和token传入。
                    <pre>
ym.init(id,token);

//成功返回：version 1.0.0 init</pre>
                    成功调用后控制台会输出成功。
                    <br>
                    <br>
                    购物车机制，让初始化前调用失败的函数全部存入购物车。在认证结束后自动调用
            </div>
        </div>
        <div id="section-2" class="panel panel-default">
            <div class="panel-heading">
                <div class="btn-group">
                    <h4>无坐标波动图-月度</h4>
                </div>
            </div>
            <div class="panel-body">
                <div class="panel-body">
                                        <pre>
ym.getSMPrice(外层div的id,宽度（最小为300）,股票代码,年,月,自定义属性);

自定义属性目前支持：bgColor ：背景颜色 还有 lineColor ：股票线条颜色

注意！ 自定义属性须为Object类型。</pre>
                    <div id="monthPriceDiv" style="width: 100%;overflow-x: hidden"></div>
                </div>
                </div>
                <div class="panel-body">
                    <pre>
ym.getSMPrice("monthPriceDiv",300,code,year,month,{bgColor:"#FFEFD5",lineColor:"#FF00FF"});</pre>
                </div>
            </div>
        <div id="section-3" class="panel panel-default">
            <div class="panel-heading">
                <div class="btn-group">
                    <h4>无坐标波动图-年度</h4>
                </div>
            </div>
            <div class="panel-body">
                <div class="panel-body">
                                        <pre>
ym.getSYPrice(外层div的id,宽度（最小为300）,股票代码,年,月,自定义属性);

自定义属性目前支持：bgColor ：背景颜色 还有 lineColor ：股票线条颜色

注意！ 自定义属性须为Object类型。</pre>
                    <div id="yearPriceDiv"  style="width: 100%;overflow-x: hidden"></div>
                </div>
                </div>
                <div class="panel-body">
                    <pre>
ym.getSYPrice("yearPriceDiv",300,code,year,month,{bgColor:"#FFEFD5",lineColor:"#FF00FF"});</pre>
                </div>
            </div>
        <div id="section-4" class="panel panel-default">
            <div class="panel-heading">
                <div class="btn-group">
                    <h4>月度表格</h4>
                </div>
            </div>
            <div class="panel-body">
                <div class="panel-body">
                                        <pre>
ym.getSMTable(外层div的id,股票代码,年,月,自定义属性);

自定义属性暂时没有开发</pre>
                    <div id="monthPriceTable"  style="width: 100%;overflow-x: scroll"></div>
                </div>
                <div class="panel-body">
                    <pre>
ym.getSMTable("monthPriceTable",code,year,month);

ym.getSMTable("monthPriceTable",code,year,month,{});</pre>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="application/javascript">
    //适配屏幕
    function IsPC() {
        var userAgentInfo = navigator.userAgent;
        var Agents = ["Android", "iPhone",
            "SymbianOS", "Windows Phone",
            "iPad", "iPod"];
        var flag = true;
        for (var v = 0; v < Agents.length; v++) {
            if (userAgentInfo.indexOf(Agents[v]) > 0) {
                flag = false;
                break;
            }
        }
        return flag;
    }
    if (!IsPC()){
        $('#myScrollspy').hide();
        $('#main').removeClass("col-xs-10");
    }

    var code = "000539",
        year = 2015,
        month = 5,
        day = 9;
    ym.init("api@shuaiyixu.com","123");
//    ym.getSDPrice(code,year,month,day);
    ym.getSMPrice("monthPriceDiv",600,code,year,month,{bgColor:"#FFEFD5",lineColor:"#FF00FF"});
    ym.getSMPrice("monthPriceDiv",600,code,year,month,{bgColor:"#FFEFD5",lineColor:"#FF00FF",type:"before"});
    ym.getSMTable("monthPriceTable",code,year,month);
    ym.getSYPrice("yearPriceDiv",600,code,year,{bgColor:"#FFEFD5",lineColor:"#FF00FF"});
    ym.getSYPrice("yearPriceDiv",600,code,year,{bgColor:"#FFEFD5",lineColor:"#FF00FF",type:"before"});
</script>
</body>
</html>